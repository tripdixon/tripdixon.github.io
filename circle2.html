<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Circle - Solutions Engineer Technical Assessment - Question 2</title>

  <script>

    function resetCookieToZero(){
      document.cookie = "myValue=0";
      let cookies = document.cookie;
      console.log("The cookie was reset to a value of 0");
    }

    function deleteCookie(){
      document.cookie = "myValue=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
      console.log("The cookie was deleted");
    }

    //I searched for a function that would return a cookie value and pasted this function in
    function getCookie(cName) {
      const name = cName + "=";
      const cDecoded = decodeURIComponent(document.cookie);
      const cArr = cDecoded .split('; ');
      let res;
      cArr.forEach(val => {
          if (val.indexOf(name) === 0) res = val.substring(name.length);
      })
      return res;
    }

    if(getCookie("myValue") == null){
      document.cookie = "myValue=0; expires=Wed, 05 Aug 2025 23:00:00 UTC";
    } else {
      let newCookieValue = parseInt(getCookie("myValue"), 10) + 1;
      document.cookie = "myValue=" + newCookieValue + "; expires=Wed, 05 Aug 2025 23:00:00 UTC";
    }

    console.log("The value of the cookie is: " + getCookie("myValue"));
    
  </script>
</head>
 
<body>
  <h2>Information</h2>
  <p>
    Company: Circle<br>
    Assignment: Solutions Engineer Technical Assessment, question 2<br>
    Instructions: Create a function that sets a cookie<br>
    Candidate: Trip Dixon<br>
    Date: 2/10/2022 (v1.5)
  </p>
  <h2>Solution</h2>
  <p>
    1.	To view the console, press Command + Option + J (Mac) or Control + Shift + J (Windows, Linux, Chrome OS).<br>
    2.	The console will display, “The value of the cookie is: x”.<br>
    3.	Every time the page is refreshed, the value of the cookie will increase.<br>
    4.	Click the “Reset Cookie” button to set the cookie value back to 0.<br>
    5.	Click the “Delete Cookie” button to delete the cookie.<br>
  </p>
      
      <button id="reset" type="button" onclick="resetCookieToZero()">Reset Cookie</button>
      <button id="delete" type="button" onclick="deleteCookie()">Delete Cookie</button>
  
  </body>
  </html>